<section class="justify-center items-center flex flex-col p-6 bg-white dark:bg-slate-900 min-h-screen">
  <form
    class="justify-center items-center flex flex-col w-full"
    id="contactForm"
  >
    <div class="flex flex-col w-full max-w-md p-6 bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 gap-4 transition-all duration-300">
      <h2 class="text-xl font-semibold mb-2 text-gray-800 dark:text-white">Contáctame</h2>

      <input
        type="text"
        placeholder="Escribe tu nombre"
        name="name"
        required
        class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-gray-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all"
      />

      <input
        type="email"
        name="_replyto"
        placeholder="Escribe tu correo electrónico"
        required
        class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-gray-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all"
      />

      <textarea
        rows="5"
        placeholder="Escribe tu mensaje"
        name="message"
        required
        class="w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-900 text-gray-800 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all resize-none"
      ></textarea>

      <input
        type="submit"
        value="Enviar"
        class="w-full bg-indigo-500 hover:bg-indigo-600 text-white font-semibold py-3 rounded-lg transition-colors duration-300 cursor-pointer"
      />
    </div>
  </form>

  <!-- Modal -->
  <div id="modal" class="fixed bottom-4 right-4 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg opacity-0 pointer-events-none transition-opacity duration-300">
    ✅ ¡Mensaje enviado con éxito!
  </div>

  <script>
    const form = document.getElementById("contactForm");
    const modal = document.getElementById("modal");

    form.addEventListener("submit", async (e) => {
      e.preventDefault(); // Prevenir recarga

      const data = new FormData(form);

      try {
        const response = await fetch("https://formspree.io/f/meokvwvd", {
          method: "POST",
          body: data,
          headers: {
            Accept: "application/json",
          },
        });

        if (response.ok) {
          modal.classList.remove("opacity-0", "pointer-events-none");
          setTimeout(() => {
            modal.classList.add("opacity-0", "pointer-events-none");
            form.reset(); // Limpiar el formulario
          }, 4000);
        } else {
          alert("Hubo un problema al enviar el mensaje.");
        }
      } catch (err) {
        alert("Error al enviar el mensaje: " + err.message);
      }
    });
  </script>
</section>
